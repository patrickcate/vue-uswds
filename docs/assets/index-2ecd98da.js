import{n as w,i as S,a as _,b as k,t as E,c as L,d as R}from"./index-6ef08634.js";import{l as A,F as I,s as b,w as M,y as N,q as P}from"./vue.esm-bundler-2e7cedae.js";function h(e){var t;const o=E(e);return(t=o==null?void 0:o.$el)!=null?t:o}const y=_?window:void 0;function p(...e){let t,o,s,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,s,u]=e,t=y):[t,o,s,u]=e,!t)return w;Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]);const i=[],a=()=>{i.forEach(n=>n()),i.length=0},c=(n,m,r,l)=>(n.addEventListener(m,r,l),()=>n.removeEventListener(m,r,l)),f=M(()=>[h(t),E(u)],([n,m])=>{if(a(),!n)return;const r=k(m)?{...m}:m;i.push(...o.flatMap(l=>s.map(v=>c(n,l,v,r))))},{immediate:!0,flush:"post"}),d=()=>{f(),a()};return L(d),d}let g=!1;function B(e,t,o={}){const{window:s=y,ignore:u=[],capture:i=!0,detectIframe:a=!1}=o;if(!s)return w;S&&!g&&(g=!0,Array.from(s.document.body.children).forEach(r=>r.addEventListener("click",w)),s.document.documentElement.addEventListener("click",w));let c=!0;const f=r=>u.some(l=>{if(typeof l=="string")return Array.from(s.document.querySelectorAll(l)).some(v=>v===r.target||r.composedPath().includes(v));{const v=h(l);return v&&(r.target===v||r.composedPath().includes(v))}}),n=[p(s,"click",r=>{const l=h(e);if(!(!l||l===r.target||r.composedPath().includes(l))){if(r.detail===0&&(c=!f(r)),!c){c=!0;return}t(r)}},{passive:!0,capture:i}),p(s,"pointerdown",r=>{const l=h(e);c=!f(r)&&!!(l&&!r.composedPath().includes(l))},{passive:!0}),a&&p(s,"blur",r=>{setTimeout(()=>{var l;const v=h(e);((l=s.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!(v!=null&&v.contains(s.document.activeElement))&&t(r)},0)})].filter(Boolean);return()=>n.forEach(r=>r())}function W(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function D(...e){let t,o,s={};e.length===3?(t=e[0],o=e[1],s=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,o=e[0],s=e[1]):(t=e[0],o=e[1]):(t=!0,o=e[0]);const{target:u=y,eventName:i="keydown",passive:a=!1,dedupe:c=!1}=s,f=W(t);return p(u,i,n=>{n.repeat&&E(c)||f(n)&&o(n)},a)}function C(){const e=A(!1),t=P();return t&&N(()=>{e.value=!0},t),e}function O(e){const t=C();return b(()=>(t.value,!!e()))}function V(e,t,o={}){const{window:s=y,...u}=o;let i;const a=O(()=>s&&"MutationObserver"in s),c=()=>{i&&(i.disconnect(),i=void 0)},f=b(()=>{const r=E(e),l=(Array.isArray(r)?r:[r]).map(h).filter(R);return new Set(l)}),d=M(()=>f.value,r=>{c(),a.value&&r.size&&(i=new MutationObserver(t),r.forEach(l=>i.observe(l,u)))},{immediate:!0,flush:"post"}),n=()=>i==null?void 0:i.takeRecords(),m=()=>{c(),d()};return L(m),{isSupported:a,stop:m,takeRecords:n}}function K(e={}){var t;const{window:o=y,deep:s=!0,triggerOnRemoval:u=!1}=e,i=(t=e.document)!=null?t:o==null?void 0:o.document,a=()=>{var d;let n=i==null?void 0:i.activeElement;if(s)for(;n!=null&&n.shadowRoot;)n=(d=n==null?void 0:n.shadowRoot)==null?void 0:d.activeElement;return n},c=A(),f=()=>{c.value=a()};return o&&(p(o,"blur",d=>{d.relatedTarget===null&&f()},!0),p(o,"focus",f,!0)),u&&V(i,d=>{d.filter(n=>n.removedNodes.length).map(n=>Array.from(n.removedNodes)).flat().forEach(n=>{n===c.value&&f()})},{childList:!0,subtree:!0}),f(),c}function Q(e,t={}){const{window:o=y}=t,s=O(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let u;const i=A(!1),a=d=>{i.value=d.matches},c=()=>{u&&("removeEventListener"in u?u.removeEventListener("change",a):u.removeListener(a))},f=I(()=>{s.value&&(c(),u=o.matchMedia(E(e)),"addEventListener"in u?u.addEventListener("change",a):u.addListener(a),i.value=u.matches)});return L(()=>{f(),c(),u=void 0}),i}function T(e,t={}){const{initialValue:o=!1,focusVisible:s=!1,preventScroll:u=!1}=t,i=A(!1),a=b(()=>h(e));p(a,"focus",f=>{var d,n;(!s||(n=(d=f.target).matches)!=null&&n.call(d,":focus-visible"))&&(i.value=!0)}),p(a,"blur",()=>i.value=!1);const c=b({get:()=>i.value,set(f){var d,n;!f&&i.value?(d=a.value)==null||d.blur():f&&!i.value&&((n=a.value)==null||n.focus({preventScroll:u}))}});return M(a,()=>{c.value=o},{immediate:!0,flush:"post"}),{focused:c}}export{B as a,h as b,Q as c,K as d,D as o,T as u};
