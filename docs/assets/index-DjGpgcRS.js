import{n as E,i as S,a as _,t as y,b as k,c as R,d as L}from"./index-BzV88aIg.js";import{l as A,s as b,w as M,F as I,y as N,q as P}from"./vue.esm-bundler-DlC1_45x.js";function h(e){var t;const r=y(e);return(t=r==null?void 0:r.$el)!=null?t:r}const w=_?window:void 0;function v(...e){let t,r,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,o,i]=e,t=w):[t,r,o,i]=e,!t)return E;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const u=[],a=()=>{u.forEach(n=>n()),u.length=0},c=(n,p,s,l)=>(n.addEventListener(p,s,l),()=>n.removeEventListener(p,s,l)),f=M(()=>[h(t),y(i)],([n,p])=>{if(a(),!n)return;const s=R(p)?{...p}:p;u.push(...r.flatMap(l=>o.map(m=>c(n,l,m,s))))},{immediate:!0,flush:"post"}),d=()=>{f(),a()};return L(d),d}let g=!1;function B(e,t,r={}){const{window:o=w,ignore:i=[],capture:u=!0,detectIframe:a=!1}=r;if(!o)return E;S&&!g&&(g=!0,Array.from(o.document.body.children).forEach(s=>s.addEventListener("click",E)),o.document.documentElement.addEventListener("click",E));let c=!0;const f=s=>i.some(l=>{if(typeof l=="string")return Array.from(o.document.querySelectorAll(l)).some(m=>m===s.target||s.composedPath().includes(m));{const m=h(l);return m&&(s.target===m||s.composedPath().includes(m))}}),n=[v(o,"click",s=>{const l=h(e);if(!(!l||l===s.target||s.composedPath().includes(l))){if(s.detail===0&&(c=!f(s)),!c){c=!0;return}t(s)}},{passive:!0,capture:u}),v(o,"pointerdown",s=>{const l=h(e);c=!f(s)&&!!(l&&!s.composedPath().includes(l))},{passive:!0}),a&&v(o,"blur",s=>{setTimeout(()=>{var l;const m=h(e);((l=o.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&t(s)},0)})].filter(Boolean);return()=>n.forEach(s=>s())}function W(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function D(...e){let t,r,o={};e.length===3?(t=e[0],r=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,r=e[0],o=e[1]):(t=e[0],r=e[1]):(t=!0,r=e[0]);const{target:i=w,eventName:u="keydown",passive:a=!1,dedupe:c=!1}=o,f=W(t);return v(i,u,n=>{n.repeat&&y(c)||f(n)&&r(n)},a)}function C(){const e=A(!1),t=P();return t&&N(()=>{e.value=!0},t),e}function O(e){const t=C();return b(()=>(t.value,!!e()))}function V(e,t,r={}){const{window:o=w,...i}=r;let u;const a=O(()=>o&&"MutationObserver"in o),c=()=>{u&&(u.disconnect(),u=void 0)},f=b(()=>{const s=y(e),l=(Array.isArray(s)?s:[s]).map(h).filter(k);return new Set(l)}),d=M(()=>f.value,s=>{c(),a.value&&s.size&&(u=new MutationObserver(t),s.forEach(l=>u.observe(l,i)))},{immediate:!0,flush:"post"}),n=()=>u==null?void 0:u.takeRecords(),p=()=>{c(),d()};return L(p),{isSupported:a,stop:p,takeRecords:n}}function K(e={}){var t;const{window:r=w,deep:o=!0,triggerOnRemoval:i=!1}=e,u=(t=e.document)!=null?t:r==null?void 0:r.document,a=()=>{var d;let n=u==null?void 0:u.activeElement;if(o)for(;n!=null&&n.shadowRoot;)n=(d=n==null?void 0:n.shadowRoot)==null?void 0:d.activeElement;return n},c=A(),f=()=>{c.value=a()};return r&&(v(r,"blur",d=>{d.relatedTarget===null&&f()},!0),v(r,"focus",f,!0)),i&&V(u,d=>{d.filter(n=>n.removedNodes.length).map(n=>Array.from(n.removedNodes)).flat().forEach(n=>{n===c.value&&f()})},{childList:!0,subtree:!0}),f(),c}function Q(e,t={}){const{window:r=w}=t,o=O(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const u=A(!1),a=d=>{u.value=d.matches},c=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},f=I(()=>{o.value&&(c(),i=r.matchMedia(y(e)),"addEventListener"in i?i.addEventListener("change",a):i.addListener(a),u.value=i.matches)});return L(()=>{f(),c(),i=void 0}),u}function T(e,t={}){const{initialValue:r=!1,focusVisible:o=!1,preventScroll:i=!1}=t,u=A(!1),a=b(()=>h(e));v(a,"focus",f=>{var d,n;(!o||(n=(d=f.target).matches)!=null&&n.call(d,":focus-visible"))&&(u.value=!0)}),v(a,"blur",()=>u.value=!1);const c=b({get:()=>u.value,set(f){var d,n;!f&&u.value?(d=a.value)==null||d.blur():f&&!u.value&&((n=a.value)==null||n.focus({preventScroll:i}))}});return M(a,()=>{c.value=r},{immediate:!0,flush:"post"}),{focused:c}}export{B as a,h as b,Q as c,K as d,D as o,T as u};
