import{K as pe,w as W,s as b,l as Z,M as ce,y as Ue,z as Ae,c as U,a as x,b as o,v as de,G as De,H as ke,e as ee,W as j,o as A,n as Te,j as N,k as F,a0 as He}from"./vue.esm-bundler-d9807bdf.js";import{u as Ee}from"./useFocusTrap-6eaffc8c.js";import{p as u,a as f,t as Ke,h as Ye,g as Ve,b as je,i as te}from"./dates-8ec2f460.js";import{s as ze}from"./common-c0b90c12.js";function w(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Le(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function I(t,e){const r=w(t);return isNaN(e)?Le(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function T(t,e){const r=w(t);if(isNaN(e))return Le(t,NaN);if(!e)return r;const d=r.getDate(),c=Le(t,r.getTime());c.setMonth(r.getMonth()+e+1,0);const v=c.getDate();return d>=v?c:(r.setFullYear(c.getFullYear(),c.getMonth(),d),r)}const Ge=864e5;let Je={};function Ce(){return Je}function Be(t,e){var D,i,B,k;const r=Ce(),d=(e==null?void 0:e.weekStartsOn)??((i=(D=e==null?void 0:e.locale)==null?void 0:D.options)==null?void 0:i.weekStartsOn)??r.weekStartsOn??((k=(B=r.locale)==null?void 0:B.options)==null?void 0:k.weekStartsOn)??0,c=w(t),v=c.getDay(),S=(v<d?7:0)+v-d;return c.setDate(c.getDate()-S),c.setHours(0,0,0,0),c}function ne(t){const e=w(t);return e.setHours(0,0,0,0),e}function Se(t){const e=w(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Qe(t,e){const r=ne(t),d=ne(e),c=+r-Se(r),v=+d-Se(d);return Math.round((c-v)/Ge)}function ge(t,e){return T(t,e*12)}function qe(t,e){const r=ne(t),d=ne(e);return+r==+d}function Xe(t){const e=w(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Ze(t){const e=w(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Oe(t,e){var D,i,B,k;const r=Ce(),d=(e==null?void 0:e.weekStartsOn)??((i=(D=e==null?void 0:e.locale)==null?void 0:D.options)==null?void 0:i.weekStartsOn)??r.weekStartsOn??((k=(B=r.locale)==null?void 0:B.options)==null?void 0:k.weekStartsOn)??0,c=w(t),v=c.getDay(),S=(v<d?-7:0)+6-(v-d);return c.setDate(c.getDate()+S),c.setHours(23,59,59,999),c}function Me(t,e){const r=w(t),d=w(e);return r.getTime()>d.getTime()}function xe(t,e){const r=w(t),d=w(e);return+r<+d}function G(t,e){const r=w(t),d=w(e);return r.getFullYear()===d.getFullYear()&&r.getMonth()===d.getMonth()}function z(t,e){return I(t,-e)}function Pe(t,e){const r=w(t);return r.setDate(e),r}function ae(t,e){return T(t,-e)}function we(t,e){return ge(t,-e)}const Re=({activeDate:t,minDate:e,maxDate:r,dayOfWeekLabels:d,monthLabels:c,isDateRange:v,dateRangeStart:S,dateRangeEnd:D})=>{const i=pe(u(e.value));W(e,a=>i.value=u(a));const B=pe(u(r.value));W(r,a=>B.value=u(a));const k=pe(u(t.value));W(t,a=>k.value=u(a));const se=b(()=>Be(Ze(k.value))),ye=b(()=>Oe(Xe(k.value))),$=b(()=>k.value.getMonth()),q=(a,y)=>a===0?y===11:a+1===y,Y=(a,y)=>a===y,ve=(a,y)=>a===11?y===0:a-1===y,M=a=>!xe(a,u(e.value))&&!Me(a,u(r.value)),re=a=>v.value&&S.value&&D.value&&M(a)&&!xe(z(a,1),u(S.value))&&!Me(I(a,1),u(D.value)),R=a=>{const y=`${a.getFullYear()}`.padStart(4,"0"),p=a.getDate(),l=a.getDay(),m=d.value[l],J=a.getMonth(),be=c.value[J];return`${p} ${be} ${y} ${m}`},H=(a,y)=>{let p=a;for(;!Me(p,y);){if(M(p))return f(p);p=I(p,1)}return f(a)},E=(a,y)=>{let p=a;for(;!xe(ne(p),y);){if(M(p))return f(p);p=z(p,1)}return f(a)},oe=a=>M(ae(a,1))?f(ae(a,1)):H(ae(a,1),a),le=a=>M(T(a,1))?f(T(a,1)):E(T(a,1),a),ie=a=>{const y=a.getDate(),p=we(a,1);if(M(p))return f(p);const l=u(H(p,a)),m=Pe(l,y);return!Ye(m)||!M(m)||qe(a,m)?f(l):f(m)},h=a=>{const y=a.getDate(),p=ge(a,1);if(M(p))return f(p);const l=u(E(p,a)),m=Pe(l,y);return!Ye(m)||!M(m)||qe(a,m)?f(l):f(m)},O=b(()=>!G(k.value,i.value)),P=b(()=>!G(k.value,B.value)),he=b(()=>!G(k.value,i.value)),fe=b(()=>!G(k.value,B.value)),K=f(Ke()),_e=b(()=>{const a=[],y=Qe(ye.value,se.value);let p=0;for(;p<=y;){const l=I(se.value,p),m=l.getMonth(),J=m+1;a.push({date:f(l),label:R(l),day:l.getDate(),month:J,year:l.getFullYear(),isPreviousMonth:q(m,$.value),isCurrentMonth:Y(m,$.value),isNextMonth:ve(m,$.value),isInCurrentRange:re(l),previousMonth:oe(l),nextMonth:le(l),previousYear:ie(l),nextYear:h(l),disabled:!M(l),left:M(z(l,1))?f(z(l,1)):null,right:M(I(l,1))?f(I(l,1)):null,up:M(z(l,7))?f(z(l,7)):H(u(e.value),l),down:M(I(l,7))?f(I(l,7)):E(u(r.value),l),home:H(Be(l),l),end:E(Oe(l),l),pageUp:oe(l),pageDown:le(l),shiftPageUp:ie(l),shiftPageDown:h(l)}),p+=1}return a}),me=b(()=>ze(_e.value,7));return{dates:b(()=>me.value.map(a=>a.map((y,p)=>({...y,id:`${y.date}-${p}`})))),todaysDate:K,hasPastYear:O,hasFutureYear:P,hasPastMonth:he,hasFutureMonth:fe}};Re.__docgenInfo={exportName:"useDayPicker",displayName:"useDayPicker",type:2,props:[{name:"activeDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"minDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"maxDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"dayOfWeekLabels",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"monthLabels",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"isDateRange",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"dateRangeStart",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"dateRangeEnd",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"}],events:[],slots:[],exposed:[],sourceFiles:"/home/runner/work/vue-uswds/vue-uswds/src/components/UsaDatePickerCalendarDay/useDayPicker.js"};const et={class:"usa-date-picker__calendar__row"},tt={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},at=["aria-label","disabled"],nt={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},st=["aria-label","disabled"],rt={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__month-label"},ot=["aria-label"],lt=["aria-label"],it={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},ut=["aria-label","disabled"],ct={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},dt=["aria-label","disabled"],pt={class:"usa-date-picker__calendar__table"},gt=["aria-label"],yt=["disabled","tabindex","data-day","data-month","data-year","data-value","aria-label","aria-selected","onClick","onMouseover","onKeydown"],Ne={__name:"UsaDatePickerCalendarDay",props:{selectedDate:{type:String,default:""},activeDate:{type:String,required:!0},minDate:{type:String,required:!0},maxDate:{type:String,required:!0},monthLabels:{type:Array,required:!0},dayOfWeekLabels:{type:Array,required:!0},dayOfWeekAbbreviationLabels:{type:Array,required:!0},previousYearButtonLabel:{type:String,required:!0},nextYearButtonLabel:{type:String,required:!0},previousMonthButtonLabel:{type:String,required:!0},nextMonthButtonLabel:{type:String,required:!0},monthSelectionButtonLabel:{type:String,required:!0},yearSelectionButtonLabel:{type:String,required:!0},previousYearsButtonLabel:{type:String,required:!0},nextYearsButtonLabel:{type:String,required:!0}},emits:["update:open","update:selectedDate","update:activeDate","update:selectorMode","update:highlightedDate","update:isPristine"],setup(t,{emit:e}){const r=ee("inputHighlightedDate"),d=ee("isDateRange",!1),c=ee("dateRangeStart",""),v=ee("dateRangeEnd",""),S=ee("rangeType",""),D=e,i=t,B=Z(null),k=Z([]),{activate:se,deactivate:ye}=Ee(B,{immediate:!0,clickOutsideDeactivates:!0,initialFocus:".usa-date-picker__calendar__date--focused",fallbackFocus:".usa-date-picker__calendar__date-picker"}),$=b({get(){return i.selectedDate},set(n){D("update:selectedDate",n)}}),q=b({get(){return i.activeDate},set(n){D("update:activeDate",n)}}),Y=pe(u(q.value));W(q,n=>{Y.value=u(n)});const ve=b(()=>Ve(Y.value)),M=b(()=>i.monthLabels[ve.value]),re=b(()=>je(Y.value)),{dates:R,hasPastMonth:H,hasFutureMonth:E,hasPastYear:oe,hasFutureYear:le,todaysDate:ie}=Re({activeDate:q,minDate:ce(i,"minDate"),maxDate:ce(i,"maxDate"),dayOfWeekLabels:ce(i,"dayOfWeekLabels"),monthLabels:ce(i,"monthLabels"),isDateRange:d,dateRangeStart:c,dateRangeEnd:v}),h=Z(q.value),O=Z(null),P=Z(null);W($,n=>{n&&(h.value=n,q.value=n)});const he=b(()=>i.monthSelectionButtonLabel.replace("%s",M.value)),fe=b(()=>i.yearSelectionButtonLabel.replace("%s",re.value)),K=b(()=>He(R.value).flat()),_e=(n,g,_)=>n===h.value||n===$.value||O.value===g&&P.value===_?0:-1,me=n=>k.value.find(g=>g.dataset.value===n),V=n=>{const g=me(n);g&&g.focus()},a=()=>{const n=te(ae(Y.value,1),u(i.minDate),u(i.maxDate))?ae(Y.value,1):u(i.minDate);q.value=f(n)},y=()=>{const n=te(T(Y.value,1),u(i.minDate),u(i.maxDate))?T(Y.value,1):u(i.maxDate);q.value=f(n)},p=()=>{const n=te(we(Y.value,1),u(i.minDate),u(i.maxDate))?we(Y.value,1):u(i.minDate);q.value=f(n)},l=()=>{const n=te(ge(Y.value,1),u(i.minDate),u(i.maxDate))?ge(Y.value,1):u(i.maxDate);q.value=f(n)},m=()=>{const n=R.value[O.value][P.value].previousMonth;a(),h.value=n},J=()=>{const n=R.value[O.value][P.value].nextMonth;y(),h.value=n},be=()=>{const n=R.value[O.value][P.value].previousYear;p(),h.value=n,j(()=>{G(u(h.value),u(i.minDate))&&V(h.value)})},Fe=()=>{const n=R.value[O.value][P.value].nextYear;l(),h.value=n,j(()=>{G(u(h.value),u(i.maxDate))&&V(h.value)})},$e=n=>{$.value=n,h.value=n,D("update:open",!1)},Ie=n=>{h.value=n;const g=K.value.find(_=>_.date===n);j(()=>{g.isCurrentMonth&&V(h.value)})},Q=(n,g=null)=>{if(!n)return;const _=K.value.find(L=>L.date===n);(!_||!_.isCurrentMonth)&&(!g||g==="month"?a():g==="year"&&p()),h.value=n,j(()=>{V(n)})},X=(n,g=null)=>{if(!n)return;const _=K.value.find(L=>L.date===n);(!_||!_.isCurrentMonth)&&(!g||g==="month"?y():g==="year"&&l()),h.value=n,j(()=>{V(n)})};W(h,n=>{D("update:highlightedDate",n),j(()=>{if(K.value.some(g=>g.date===n&&g.isCurrentMonth)&&te(u(n),u(i.minDate),u(i.maxDate))){const g=R.value.findIndex(L=>L.find(({date:s})=>s===n)),_=R.value[g].findIndex(({date:L})=>L===n);O.value=g,P.value=_}})},{immediate:!0}),W(r,n=>{h.value=n});const We=W(h,()=>{D("update:isPristine",!1),We()});return Ue(()=>{se()}),Ae(()=>{D("update:isPristine",!0),ye()}),(n,g)=>(A(),U("div",{ref_key:"dayDatePickerRef",ref:B,tabindex:"-1",class:"usa-date-picker__calendar__date-picker"},[x("div",et,[x("div",tt,[x("button",{type:"button",class:"usa-date-picker__calendar__previous-year","aria-label":t.previousYearButtonLabel,disabled:!o(oe),onClick:be},null,8,at)]),x("div",nt,[x("button",{type:"button",class:"usa-date-picker__calendar__previous-month","aria-label":t.previousMonthButtonLabel,disabled:!o(H),onClick:m},null,8,st)]),x("div",rt,[x("button",{type:"button",class:"usa-date-picker__calendar__month-selection","aria-label":he.value,onClick:g[0]||(g[0]=_=>D("update:selectorMode","month"))},de(M.value),9,ot),x("button",{type:"button",class:"usa-date-picker__calendar__year-selection","aria-label":fe.value,onClick:g[1]||(g[1]=_=>D("update:selectorMode","year"))},de(re.value),9,lt)]),x("div",it,[x("button",{type:"button",class:"usa-date-picker__calendar__next-month","aria-label":t.nextMonthButtonLabel,disabled:!o(E),onClick:J},null,8,ut)]),x("div",ct,[x("button",{type:"button",class:"usa-date-picker__calendar__next-year","aria-label":t.nextYearButtonLabel,disabled:!o(le),onClick:Fe},null,8,dt)])]),x("table",pt,[x("thead",null,[x("tr",null,[(A(!0),U(De,null,ke(t.dayOfWeekLabels,(_,L)=>(A(),U("th",{key:_,class:"usa-date-picker__calendar__day-of-week",scope:"col","aria-label":_},de(t.dayOfWeekAbbreviationLabels[L]),9,gt))),128))])]),x("tbody",null,[(A(!0),U(De,null,ke(o(R),(_,L)=>(A(),U("tr",{key:`${L}-${_.map(({date:s})=>s).join("-")}`},[(A(!0),U(De,null,ke(_,(s,ue)=>(A(),U("td",{key:s.id},[x("button",{ref_for:!0,ref_key:"dateButtonRefs",ref:k,type:"button",disabled:s.disabled,tabindex:_e(s.date,L,ue),class:Te(["usa-date-picker__calendar__date",{"usa-date-picker__calendar__date--previous-month":s.isPreviousMonth,"usa-date-picker__calendar__date--current-month":s.isCurrentMonth,"usa-date-picker__calendar__date--next-month":s.isNextMonth,"usa-date-picker__calendar__date--today":s.date===o(ie),"usa-date-picker__calendar__date--selected":$.value===s.date,"usa-date-picker__calendar__date--focused":O.value===L&&P.value===ue&&s.isCurrentMonth,"usa-date-picker__calendar__date--range-date":o(d)&&o(v)&&o(S)==="start"&&s.date===o(v)||o(d)&&o(c)&&o(S)==="end"&&s.date===o(c),"usa-date-picker__calendar__date--within-range":o(d)&&o(c)&&o(v)&&s.isInCurrentRange||o(d)&&o(c)&&!o(v)&&s.date>o(c)&&s.date<h.value||o(d)&&o(v)&&!o(c)&&s.date<o(v)&&s.date>h.value,"usa-date-picker__calendar__date--range-date-start":o(d)&&o(c)&&s.date===o(c)||o(d)&&o(v)&&s.date!==o(v)&&o(S)==="start"&&!o(c)&&O.value===L&&P.value===ue&&s.isCurrentMonth,"usa-date-picker__calendar__date--range-date-end":o(d)&&o(v)&&s.date===o(v)||o(d)&&o(c)&&s.date!==o(c)&&o(S)==="end"&&!o(v)&&O.value===L&&P.value===ue&&s.isCurrentMonth}]),"data-day":s.day,"data-month":s.month,"data-year":s.year,"data-value":s.date,"aria-label":s.label,"aria-selected":$.value===s.date,onClick:C=>$e(s.date),onMouseover:C=>Ie(s.date),onKeydown:[N(F(C=>Q(s.up),["prevent"]),["up"]),N(F(C=>X(s.down),["prevent"]),["down"]),N(F(C=>Q(s.left),["prevent"]),["left"]),N(F(C=>X(s.right),["prevent"]),["right"]),N(F(C=>Q(s.home),["prevent"]),["home"]),N(F(C=>X(s.end),["prevent"]),["end"]),N(F(C=>Q(s.pageUp,"month"),["prevent","exact"]),["page-up"]),N(F(C=>X(s.pageDown,"month"),["prevent","exact"]),["page-down"]),N(F(C=>Q(s.shiftPageUp,"year"),["prevent","shift"]),["page-up"]),N(F(C=>X(s.shiftPageDown,"year"),["prevent","shift"]),["page-down"])]},de(s.day),43,yt)]))),128))]))),128))])])],512))}},mt=Ne;Ne.__docgenInfo={exportName:"default",displayName:"UsaDatePickerCalendarDay",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"minDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"maxDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"dayOfWeekLabels",global:!1,description:"",tags:[],required:!0,type:"unknown[]",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"dayOfWeekAbbreviationLabels",global:!1,description:"",tags:[],required:!0,type:"unknown[]",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"monthLabels",global:!1,description:"",tags:[],required:!0,type:"unknown[]",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"previousYearButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"nextYearButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"previousMonthButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"nextMonthButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"yearSelectionButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"monthSelectionButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"previousYearsButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"nextYearsButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"selectedDate",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:'""'},{name:"activeDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"}],events:[],slots:[],exposed:[{name:"minDate",type:"string",description:"",declarations:[],schema:"string"},{name:"maxDate",type:"string",description:"",declarations:[],schema:"string"},{name:"dayOfWeekLabels",type:"unknown[]",description:"",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"dayOfWeekAbbreviationLabels",type:"unknown[]",description:"",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"monthLabels",type:"unknown[]",description:"",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"previousYearButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"nextYearButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"previousMonthButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"nextMonthButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"yearSelectionButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"monthSelectionButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"previousYearsButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"nextYearsButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"selectedDate",type:"string",description:"",declarations:[],schema:"string"},{name:"activeDate",type:"string",description:"",declarations:[],schema:"string"}],sourceFiles:"/home/runner/work/vue-uswds/vue-uswds/src/components/UsaDatePickerCalendarDay/UsaDatePickerCalendarDay.vue"};export{mt as U};
