import{K as de,w as $,s as x,l as le,M as ue,z as We,f as Ue,g as Ae,b as i,e as Q,a0 as Te,X as E,o as W,a as k,v as ce,c as K,G as ke,H as xe,j as P,n as He,k as R}from"./vue.esm-bundler-DlC1_45x.js";import{U as Ee}from"./component-CMK7bAJ2.js";import{p as d,a as _,t as Ke,h as Be,g as ze,b as Ve,i as Z}from"./dates-qO0ZlDc-.js";import{s as Ge}from"./common-cfad2wKl.js";const Xe=864e5,qe=Symbol.for("constructDateFrom");function te(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&qe in e?e[qe](n):e instanceof Date?new e.constructor(n):new Date(n)}function Y(e,n){return te(e,e)}function N(e,n,s){const o=Y(e);return isNaN(n)?te(e,NaN):(n&&o.setDate(o.getDate()+n),o)}function U(e,n,s){const o=Y(e);if(isNaN(n))return te(e,NaN);if(!n)return o;const c=o.getDate(),p=te(e,o.getTime());p.setMonth(o.getMonth()+n+1,0);const M=p.getDate();return c>=M?p:(o.setFullYear(p.getFullYear(),p.getMonth(),c),o)}let je={};function Fe(){return je}function Se(e,n){var m,u;const s=Fe(),o=s.weekStartsOn??((u=(m=s.locale)==null?void 0:m.options)==null?void 0:u.weekStartsOn)??0,c=Y(e),p=c.getDay(),M=(p<o?7:0)+p-o;return c.setDate(c.getDate()-M),c.setHours(0,0,0,0),c}function Ce(e){const n=Y(e),s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),+e-+s}function Ye(e,...n){const s=te.bind(null,n.find(o=>typeof o=="object"));return n.map(s)}function ae(e,n){const s=Y(e);return s.setHours(0,0,0,0),s}function Je(e,n,s){const[o,c]=Ye(s==null?void 0:s.in,e,n),p=ae(o),M=ae(c),m=+p-Ce(p),u=+M-Ce(M);return Math.round((m-u)/Xe)}function pe(e,n,s){return U(e,n*12)}function Oe(e,n,s){const[o,c]=Ye(s==null?void 0:s.in,e,n);return+ae(o)==+ae(c)}function Qe(e,n){const s=Y(e),o=s.getMonth();return s.setFullYear(s.getFullYear(),o+1,0),s.setHours(23,59,59,999),s}function Ze(e,n){const s=Y(e);return s.setDate(1),s.setHours(0,0,0,0),s}function Pe(e,n){var m,u;const s=Fe(),o=s.weekStartsOn??((u=(m=s.locale)==null?void 0:m.options)==null?void 0:u.weekStartsOn)??0,c=Y(e),p=c.getDay(),M=(p<o?-7:0)+6-(p-o);return c.setDate(c.getDate()+M),c.setHours(23,59,59,999),c}function Me(e,n){return+Y(e)>+Y(n)}function Le(e,n){return+Y(e)<+Y(n)}function V(e,n,s){const[o,c]=Ye(s==null?void 0:s.in,e,n);return o.getFullYear()===c.getFullYear()&&o.getMonth()===c.getMonth()}function z(e,n,s){return N(e,-n)}function Re(e,n,s){const o=Y(e);return o.setDate(n),o}function ee(e,n,s){return U(e,-1)}function we(e,n,s){return pe(e,-1)}const Ne=({activeDate:e,minDate:n,maxDate:s,dayOfWeekLabels:o,monthLabels:c,isDateRange:p,dateRangeStart:M,dateRangeEnd:m})=>{const u=de(d(n.value));$(n,t=>u.value=d(t));const G=de(d(s.value));$(s,t=>G.value=d(t));const S=de(d(e.value));$(e,t=>S.value=d(t));const F=x(()=>Se(Ze(S.value))),C=x(()=>Pe(Qe(S.value))),L=x(()=>S.value.getMonth()),ge=(t,y)=>t===0?y===11:t+1===y,ne=(t,y)=>t===y,se=(t,y)=>t===11?y===0:t-1===y,h=t=>!Le(t,d(n.value))&&!Me(t,d(s.value)),ve=t=>p.value&&M.value&&m.value&&h(t)&&!Le(z(t,1),d(M.value))&&!Me(N(t,1),d(m.value)),ye=t=>{const y=`${t.getFullYear()}`.padStart(4,"0"),g=t.getDate(),l=t.getDay(),D=o.value[l],X=t.getMonth(),De=c.value[X];return`${g} ${De} ${y} ${D}`},A=(t,y)=>{let g=t;for(;!Me(g,y);){if(h(g))return _(g);g=N(g,1)}return _(t)},T=(t,y)=>{let g=t;for(;!Le(ae(g),y);){if(h(g))return _(g);g=z(g,1)}return _(t)},re=t=>h(ee(t))?_(ee(t)):A(ee(t),t),f=t=>h(U(t,1))?_(U(t,1)):T(U(t,1),t),B=t=>{const y=t.getDate(),g=we(t);if(h(g))return _(g);const l=d(A(g,t)),D=Re(l,y);return!Be(D)||!h(D)||Oe(t,D)?_(l):_(D)},q=t=>{const y=t.getDate(),g=pe(t,1);if(h(g))return _(g);const l=d(T(g,t)),D=Re(l,y);return!Be(D)||!h(D)||Oe(t,D)?_(l):_(D)},he=x(()=>!V(S.value,u.value)),fe=x(()=>!V(S.value,G.value)),H=x(()=>!V(S.value,u.value)),_e=x(()=>!V(S.value,G.value)),me=_(Ke()),I=x(()=>{const t=[],y=Je(C.value,F.value);let g=0;for(;g<=y;){const l=N(F.value,g),D=l.getMonth(),X=D+1;t.push({date:_(l),label:ye(l),day:l.getDate(),month:X,year:l.getFullYear(),isPreviousMonth:ge(D,L.value),isCurrentMonth:ne(D,L.value),isNextMonth:se(D,L.value),isInCurrentRange:ve(l),previousMonth:re(l),nextMonth:f(l),previousYear:B(l),nextYear:q(l),disabled:!h(l),left:h(z(l,1))?_(z(l,1)):null,right:h(N(l,1))?_(N(l,1)):null,up:h(z(l,7))?_(z(l,7)):A(d(n.value),l),down:h(N(l,7))?_(N(l,7)):T(d(s.value),l),home:A(Se(l),l),end:T(Pe(l),l),pageUp:re(l),pageDown:f(l),shiftPageUp:B(l),shiftPageDown:q(l)}),g+=1}return t}),oe=x(()=>Ge(I.value,7));return{dates:x(()=>oe.value.map(t=>t.map((y,g)=>({...y,id:`${y.date}-${g}`})))),todaysDate:me,hasPastYear:he,hasFutureYear:fe,hasPastMonth:H,hasFutureMonth:_e}};Ne.__docgenInfo={exportName:"useDayPicker",displayName:"useDayPicker",type:2,props:[{name:"activeDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"minDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"maxDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"dayOfWeekLabels",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"monthLabels",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"isDateRange",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"dateRangeStart",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"dateRangeEnd",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"}],events:[],slots:[],exposed:[],sourceFiles:"/home/runner/work/vue-uswds/vue-uswds/src/components/UsaDatePickerCalendarDay/useDayPicker.js"};const et={tabindex:"-1",class:"usa-date-picker__calendar__date-picker"},tt={class:"usa-date-picker__calendar__row"},at={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},nt=["aria-label","disabled"],st={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},rt=["aria-label","disabled"],ot={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__month-label"},it=["aria-label"],lt=["aria-label"],ut={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},ct=["aria-label","disabled"],dt={class:"usa-date-picker__calendar__cell usa-date-picker__calendar__cell--center-items"},pt=["aria-label","disabled"],gt={class:"usa-date-picker__calendar__table"},vt=["aria-label"],yt=["disabled","tabindex","data-day","data-month","data-year","data-value","aria-label","aria-selected","onClick","onMouseover","onKeydown"],ht={__name:"UsaDatePickerCalendarDay",props:{selectedDate:{type:String,default:""},activeDate:{type:String,required:!0},minDate:{type:String,required:!0},maxDate:{type:String,required:!0},monthLabels:{type:Array,required:!0},dayOfWeekLabels:{type:Array,required:!0},dayOfWeekAbbreviationLabels:{type:Array,required:!0},previousYearButtonLabel:{type:String,required:!0},nextYearButtonLabel:{type:String,required:!0},previousMonthButtonLabel:{type:String,required:!0},nextMonthButtonLabel:{type:String,required:!0},monthSelectionButtonLabel:{type:String,required:!0},yearSelectionButtonLabel:{type:String,required:!0},previousYearsButtonLabel:{type:String,required:!0},nextYearsButtonLabel:{type:String,required:!0}},emits:["update:open","update:selectedDate","update:activeDate","update:selectorMode","update:highlightedDate","update:isPristine"],setup(e,{emit:n}){const s=Q("inputHighlightedDate"),o=Q("isDateRange",!1),c=Q("dateRangeStart",""),p=Q("dateRangeEnd",""),M=Q("rangeType",""),m=n,u=e,G={immediate:!0,clickOutsideDeactivates:!0,initialFocus:".usa-date-picker__calendar__date--focused",fallbackFocus:".usa-date-picker__calendar__date-picker"},S=le([]),F=x({get(){return u.selectedDate},set(a){m("update:selectedDate",a)}}),C=x({get(){return u.activeDate},set(a){m("update:activeDate",a)}}),L=de(d(C.value));$(C,a=>{L.value=d(a)});const ge=x(()=>ze(L.value)),ne=x(()=>u.monthLabels[ge.value]),se=x(()=>Ve(L.value)),{dates:h,hasPastMonth:ve,hasFutureMonth:ye,hasPastYear:A,hasFutureYear:T,todaysDate:re}=Ne({activeDate:C,minDate:ue(u,"minDate"),maxDate:ue(u,"maxDate"),dayOfWeekLabels:ue(u,"dayOfWeekLabels"),monthLabels:ue(u,"monthLabels"),isDateRange:o,dateRangeStart:c,dateRangeEnd:p}),f=le(C.value),B=le(null),q=le(null);$(F,a=>{a&&(f.value=a,C.value=a)});const he=x(()=>u.monthSelectionButtonLabel.replace("%s",ne.value)),fe=x(()=>u.yearSelectionButtonLabel.replace("%s",se.value)),H=x(()=>Te(h.value).flat()),_e=(a,v,b)=>a===f.value||a===F.value||B.value===v&&q.value===b?0:-1,me=a=>S.value.find(v=>v.dataset.value===a),I=a=>{const v=me(a);v&&v.focus()},oe=()=>{const a=Z(ee(L.value),d(u.minDate),d(u.maxDate))?ee(L.value):d(u.minDate);C.value=_(a)},be=()=>{const a=Z(U(L.value,1),d(u.minDate),d(u.maxDate))?U(L.value,1):d(u.maxDate);C.value=_(a)},t=()=>{const a=Z(we(L.value),d(u.minDate),d(u.maxDate))?we(L.value):d(u.minDate);C.value=_(a)},y=()=>{const a=Z(pe(L.value,1),d(u.minDate),d(u.maxDate))?pe(L.value,1):d(u.maxDate);C.value=_(a)},g=()=>{const a=h.value[B.value][q.value].previousMonth;oe(),f.value=a},l=()=>{const a=h.value[B.value][q.value].nextMonth;be(),f.value=a},D=()=>{const a=h.value[B.value][q.value].previousYear;t(),f.value=a,E(()=>{V(d(f.value),d(u.minDate))&&I(f.value)})},X=()=>{const a=h.value[B.value][q.value].nextYear;y(),f.value=a,E(()=>{V(d(f.value),d(u.maxDate))&&I(f.value)})},De=a=>{F.value=a,f.value=a,m("update:open",!1)},$e=a=>{f.value=a;const v=H.value.find(b=>b.date===a);E(()=>{v.isCurrentMonth&&I(f.value)})},j=(a,v=null)=>{if(!a)return;const b=H.value.find(w=>w.date===a);(!b||!b.isCurrentMonth)&&(!v||v==="month"?oe():v==="year"&&t()),f.value=a,E(()=>{I(a)})},J=(a,v=null)=>{if(!a)return;const b=H.value.find(w=>w.date===a);(!b||!b.isCurrentMonth)&&(!v||v==="month"?be():v==="year"&&y()),f.value=a,E(()=>{I(a)})};$(f,a=>{m("update:highlightedDate",a),E(()=>{if(H.value.some(v=>v.date===a&&v.isCurrentMonth)&&Z(d(a),d(u.minDate),d(u.maxDate))){const v=h.value.findIndex(w=>w.find(({date:r})=>r===a)),b=h.value[v].findIndex(({date:w})=>w===a);B.value=v,q.value=b}})},{immediate:!0}),$(s,a=>{f.value=a});const Ie=$(f,()=>{m("update:isPristine",!1),Ie()});return We(()=>{m("update:isPristine",!0)}),(a,v)=>(W(),Ue(i(Ee),{options:G},{default:Ae(()=>[k("div",et,[k("div",tt,[k("div",at,[k("button",{type:"button",class:"usa-date-picker__calendar__previous-year","aria-label":e.previousYearButtonLabel,disabled:!i(A),onClick:D},null,8,nt)]),k("div",st,[k("button",{type:"button",class:"usa-date-picker__calendar__previous-month","aria-label":e.previousMonthButtonLabel,disabled:!i(ve),onClick:g},null,8,rt)]),k("div",ot,[k("button",{type:"button",class:"usa-date-picker__calendar__month-selection","aria-label":he.value,onClick:v[0]||(v[0]=b=>m("update:selectorMode","month"))},ce(ne.value),9,it),k("button",{type:"button",class:"usa-date-picker__calendar__year-selection","aria-label":fe.value,onClick:v[1]||(v[1]=b=>m("update:selectorMode","year"))},ce(se.value),9,lt)]),k("div",ut,[k("button",{type:"button",class:"usa-date-picker__calendar__next-month","aria-label":e.nextMonthButtonLabel,disabled:!i(ye),onClick:l},null,8,ct)]),k("div",dt,[k("button",{type:"button",class:"usa-date-picker__calendar__next-year","aria-label":e.nextYearButtonLabel,disabled:!i(T),onClick:X},null,8,pt)])]),k("table",gt,[k("thead",null,[k("tr",null,[(W(!0),K(ke,null,xe(e.dayOfWeekLabels,(b,w)=>(W(),K("th",{key:b,class:"usa-date-picker__calendar__day-of-week",scope:"col","aria-label":b},ce(e.dayOfWeekAbbreviationLabels[w]),9,vt))),128))])]),k("tbody",null,[(W(!0),K(ke,null,xe(i(h),(b,w)=>(W(),K("tr",{key:`${w}-${b.map(({date:r})=>r).join("-")}`},[(W(!0),K(ke,null,xe(b,(r,ie)=>(W(),K("td",{key:r.id},[k("button",{ref_for:!0,ref_key:"dateButtonRefs",ref:S,type:"button",disabled:r.disabled,tabindex:_e(r.date,w,ie),class:He(["usa-date-picker__calendar__date",{"usa-date-picker__calendar__date--previous-month":r.isPreviousMonth,"usa-date-picker__calendar__date--current-month":r.isCurrentMonth,"usa-date-picker__calendar__date--next-month":r.isNextMonth,"usa-date-picker__calendar__date--today":r.date===i(re),"usa-date-picker__calendar__date--selected":F.value===r.date,"usa-date-picker__calendar__date--focused":B.value===w&&q.value===ie&&r.isCurrentMonth,"usa-date-picker__calendar__date--range-date":i(o)&&i(p)&&i(M)==="start"&&r.date===i(p)||i(o)&&i(c)&&i(M)==="end"&&r.date===i(c),"usa-date-picker__calendar__date--within-range":i(o)&&i(c)&&i(p)&&r.isInCurrentRange||i(o)&&i(c)&&!i(p)&&r.date>i(c)&&r.date<f.value||i(o)&&i(p)&&!i(c)&&r.date<i(p)&&r.date>f.value,"usa-date-picker__calendar__date--range-date-start":i(o)&&i(c)&&r.date===i(c)||i(o)&&i(p)&&r.date!==i(p)&&i(M)==="start"&&!i(c)&&B.value===w&&q.value===ie&&r.isCurrentMonth,"usa-date-picker__calendar__date--range-date-end":i(o)&&i(p)&&r.date===i(p)||i(o)&&i(c)&&r.date!==i(c)&&i(M)==="end"&&!i(p)&&B.value===w&&q.value===ie&&r.isCurrentMonth}]),"data-day":r.day,"data-month":r.month,"data-year":r.year,"data-value":r.date,"aria-label":r.label,"aria-selected":F.value===r.date,onClick:O=>De(r.date),onMouseover:O=>$e(r.date),onKeydown:[P(R(O=>j(r.up),["prevent"]),["up"]),P(R(O=>J(r.down),["prevent"]),["down"]),P(R(O=>j(r.left),["prevent"]),["left"]),P(R(O=>J(r.right),["prevent"]),["right"]),P(R(O=>j(r.home),["prevent"]),["home"]),P(R(O=>J(r.end),["prevent"]),["end"]),P(R(O=>j(r.pageUp,"month"),["prevent","exact"]),["page-up"]),P(R(O=>J(r.pageDown,"month"),["prevent","exact"]),["page-down"]),P(R(O=>j(r.shiftPageUp,"year"),["prevent","shift"]),["page-up"]),P(R(O=>J(r.shiftPageDown,"year"),["prevent","shift"]),["page-down"])]},ce(r.day),43,yt)]))),128))]))),128))])])])]),_:1}))}};ht.__docgenInfo={exportName:"default",displayName:"UsaDatePickerCalendarDay",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"minDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"maxDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"dayOfWeekLabels",global:!1,description:"",tags:[],required:!0,type:"unknown[]",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"dayOfWeekAbbreviationLabels",global:!1,description:"",tags:[],required:!0,type:"unknown[]",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"monthLabels",global:!1,description:"",tags:[],required:!0,type:"unknown[]",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"previousYearButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"nextYearButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"previousMonthButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"nextMonthButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"yearSelectionButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"monthSelectionButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"previousYearsButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"nextYearsButtonLabel",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"selectedDate",global:!1,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:'""'},{name:"activeDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"}],events:[],slots:[],exposed:[{name:"minDate",type:"string",description:"",declarations:[],schema:"string"},{name:"maxDate",type:"string",description:"",declarations:[],schema:"string"},{name:"dayOfWeekLabels",type:"unknown[]",description:"",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"dayOfWeekAbbreviationLabels",type:"unknown[]",description:"",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"monthLabels",type:"unknown[]",description:"",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"previousYearButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"nextYearButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"previousMonthButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"nextMonthButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"yearSelectionButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"monthSelectionButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"previousYearsButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"nextYearsButtonLabel",type:"string",description:"",declarations:[],schema:"string"},{name:"selectedDate",type:"string",description:"",declarations:[],schema:"string"},{name:"activeDate",type:"string",description:"",declarations:[],schema:"string"}],sourceFiles:"/home/runner/work/vue-uswds/vue-uswds/src/components/UsaDatePickerCalendarDay/UsaDatePickerCalendarDay.vue"};export{ht as _};
