import{n as w,i as R,a as W,t as E,b as I,c as N,d as g}from"./index-BzV88aIg.js";import{l as A,s as b,w as M,F as P,y as C,q as V}from"./vue.esm-bundler-DlC1_45x.js";function v(e){var n;const r=E(e);return(n=r==null?void 0:r.$el)!=null?n:r}const y=W?window:void 0;function h(...e){let n,r,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,o,i]=e,n=y):[n,r,o,i]=e,!n)return w;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const u=[],a=()=>{u.forEach(t=>t()),u.length=0},c=(t,p,s,l)=>(t.addEventListener(p,s,l),()=>t.removeEventListener(p,s,l)),d=M(()=>[v(n),E(i)],([t,p])=>{if(a(),!t)return;const s=N(p)?{...p}:p;u.push(...r.flatMap(l=>o.map(m=>c(t,l,m,s))))},{immediate:!0,flush:"post"}),f=()=>{d(),a()};return g(f),f}let _=!1;function K(e,n,r={}){const{window:o=y,ignore:i=[],capture:u=!0,detectIframe:a=!1}=r;if(!o)return w;R&&!_&&(_=!0,Array.from(o.document.body.children).forEach(s=>s.addEventListener("click",w)),o.document.documentElement.addEventListener("click",w));let c=!0;const d=s=>i.some(l=>{if(typeof l=="string")return Array.from(o.document.querySelectorAll(l)).some(m=>m===s.target||s.composedPath().includes(m));{const m=v(l);return m&&(s.target===m||s.composedPath().includes(m))}}),t=[h(o,"click",s=>{const l=v(e);if(!(!l||l===s.target||s.composedPath().includes(l))){if(s.detail===0&&(c=!d(s)),!c){c=!0;return}n(s)}},{passive:!0,capture:u}),h(o,"pointerdown",s=>{const l=v(e);c=!d(s)&&!!(l&&!s.composedPath().includes(l))},{passive:!0}),a&&h(o,"blur",s=>{setTimeout(()=>{var l;const m=v(e);((l=o.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!(m!=null&&m.contains(o.document.activeElement))&&n(s)},0)})].filter(Boolean);return()=>t.forEach(s=>s())}function j(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function Q(...e){let n,r,o={};e.length===3?(n=e[0],r=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,r=e[0],o=e[1]):(n=e[0],r=e[1]):(n=!0,r=e[0]);const{target:i=y,eventName:u="keydown",passive:a=!1,dedupe:c=!1}=o,d=j(n);return h(i,u,t=>{t.repeat&&E(c)||d(t)&&r(t)},a)}function q(){const e=A(!1),n=V();return n&&C(()=>{e.value=!0},n),e}function L(e){const n=q();return b(()=>(n.value,!!e()))}function x(e,n,r={}){const{window:o=y,...i}=r;let u;const a=L(()=>o&&"MutationObserver"in o),c=()=>{u&&(u.disconnect(),u=void 0)},d=b(()=>{const s=E(e),l=(Array.isArray(s)?s:[s]).map(v).filter(I);return new Set(l)}),f=M(()=>d.value,s=>{c(),a.value&&s.size&&(u=new MutationObserver(n),s.forEach(l=>u.observe(l,i)))},{immediate:!0,flush:"post"}),t=()=>u==null?void 0:u.takeRecords(),p=()=>{c(),f()};return g(p),{isSupported:a,stop:p,takeRecords:t}}function T(e={}){var n;const{window:r=y,deep:o=!0,triggerOnRemoval:i=!1}=e,u=(n=e.document)!=null?n:r==null?void 0:r.document,a=()=>{var f;let t=u==null?void 0:u.activeElement;if(o)for(;t!=null&&t.shadowRoot;)t=(f=t==null?void 0:t.shadowRoot)==null?void 0:f.activeElement;return t},c=A(),d=()=>{c.value=a()};return r&&(h(r,"blur",f=>{f.relatedTarget===null&&d()},!0),h(r,"focus",d,!0)),i&&x(u,f=>{f.filter(t=>t.removedNodes.length).map(t=>Array.from(t.removedNodes)).flat().forEach(t=>{t===c.value&&d()})},{childList:!0,subtree:!0}),d(),c}function z(e,n={}){const{window:r=y}=n,o=L(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const u=A(!1),a=f=>{u.value=f.matches},c=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},d=P(()=>{o.value&&(c(),i=r.matchMedia(E(e)),"addEventListener"in i?i.addEventListener("change",a):i.addListener(a),u.value=i.matches)});return g(()=>{d(),c(),i=void 0}),u}function $(e,n,r={}){const{root:o,rootMargin:i="0px",threshold:u=.1,window:a=y,immediate:c=!0}=r,d=L(()=>a&&"IntersectionObserver"in a),f=b(()=>{const m=E(e);return(Array.isArray(m)?m:[m]).map(v).filter(I)});let t=w;const p=A(c),s=d.value?M(()=>[f.value,v(o),p.value],([m,k])=>{if(t(),!p.value||!m.length)return;const O=new IntersectionObserver(n,{root:v(k),rootMargin:i,threshold:u});m.forEach(S=>S&&O.observe(S)),t=()=>{O.disconnect(),t=w}},{immediate:c,flush:"post"}):w,l=()=>{t(),s(),p.value=!1};return g(l),{isSupported:d,isActive:p,pause(){t(),p.value=!1},resume(){p.value=!0},stop:l}}function G(e,n={}){const{initialValue:r=!1,focusVisible:o=!1,preventScroll:i=!1}=n,u=A(!1),a=b(()=>v(e));h(a,"focus",d=>{var f,t;(!o||(t=(f=d.target).matches)!=null&&t.call(f,":focus-visible"))&&(u.value=!0)}),h(a,"blur",()=>u.value=!1);const c=b({get:()=>u.value,set(d){var f,t;!d&&u.value?(f=a.value)==null||f.blur():d&&!u.value&&((t=a.value)==null||t.focus({preventScroll:i}))}});return M(a,()=>{c.value=r},{immediate:!0,flush:"post"}),{focused:c}}export{K as a,v as b,z as c,T as d,x as e,$ as f,Q as o,G as u};
