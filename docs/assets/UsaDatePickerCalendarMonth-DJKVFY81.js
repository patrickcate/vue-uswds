import{L as j,w as C,s as m,l as B,N as I,f as z,g as H,b as L,o as M,a as q,c as R,H as K,I as S,j as p,n as G,k as v,v as J}from"./vue.esm-bundler-DsKf3Hbt.js";import{U as Q}from"./component-DyZ-12hH.js";import{p as f,l as E,m as W,n as X,o as Z,q as V,b as ee}from"./dates-qO0ZlDc-.js";import{s as te}from"./common-cfad2wKl.js";const T=({activeYear:x,monthLabels:D,minDate:g,maxDate:l})=>{const w=j(f(g.value)),b=j(f(l.value));C(g,t=>w.value=f(t)),C(l,t=>b.value=f(t));const _=m(()=>{const t=f(`${x.value}-01-01`),e=E(t);return W([e,w.value]).getMonth()}),h=m(()=>{const t=f(`${x.value}-01-01`),e=E(t),s=X(e);return Z([s,b.value]).getMonth()}),P=m(()=>{const t=[];for(let e=_.value;e<=h.value;e++)t.push(e+1);return t}),r=t=>P.value.includes(t),Y=(t,e)=>{for(let s=t;s<=e;s++)if(r(s))return s;return null},$=(t,e)=>{for(let s=t;s>=e;s--)if(r(s))return s;return null},d=m(()=>Object.keys(D.value).map(t=>parseInt(t,10)+1)),k=m(()=>te(d.value,3));return{months:m(()=>k.value.map(t=>t.map((e,s)=>({month:e,label:D.value[e-1],id:`${e}-${s}`,disabled:!r(e),left:r(e-1)?e-1:null,right:r(e+1)?e+1:null,up:r(e-3)?e-3:r(e-1)?e-1:null,down:r(e+3)?e+3:r(e+1)?e+1:null,home:t.find(o=>r(o))||null,end:[...t].reverse().find(o=>r(o))||null,pageUp:Y(1,e),pageDown:$(12,e)})))),findRowIndexByMonth:(t,e)=>t.value.findIndex(o=>o.find(({month:u})=>u===e)),findButtonIndexByMonth:(t,e,s)=>t.value[e].findIndex(({month:u})=>u===s)}};T.__docgenInfo={exportName:"useMonthPicker",displayName:"useMonthPicker",type:2,props:[{name:"activeYear",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"monthLabels",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"minDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"},{name:"maxDate",global:!1,description:"",tags:[],required:!0,type:"any",declarations:[],schema:"any"}],events:[],slots:[],exposed:[],sourceFiles:"/home/runner/work/vue-uswds/vue-uswds/src/components/UsaDatePickerCalendarMonth/useMonthPicker.js"};const ae={tabindex:"-1",class:"usa-date-picker__calendar__month-picker"},ne={class:"usa-date-picker__calendar__table",role:"presentation"},se=["disabled","tabindex","data-value","data-label","aria-selected","onClick","onMouseover","onKeydown"],re={__name:"UsaDatePickerCalendarMonth",props:{activeDate:{type:String,required:!0},monthLabels:{type:Array,required:!0},minDate:{type:String,required:!0},maxDate:{type:String,required:!0}},emits:["update:activeMonth","update:selectorMode"],setup(x,{emit:D}){const g=D,l=x,w={immediate:!0,clickOutsideDeactivates:!0,initialFocus:".usa-date-picker__calendar__month--focused",fallbackFocus:".usa-date-picker__calendar__date-picker"},b=B([]),_=j(f(l.activeDate));C(I(l,"activeDate"),a=>_.value=f(a));const h=m(()=>V(_.value)),P=m(()=>ee(_.value)),{months:r,findRowIndexByMonth:Y,findButtonIndexByMonth:$}=T({activeYear:P,monthLabels:I(l,"monthLabels"),minDate:I(l,"minDate"),maxDate:I(l,"maxDate")}),d=B(h.value),k=B(null),O=B(null),N=(a,i,y)=>a===d.value||a===h.value||k.value===i&&O.value===y?0:-1,U=a=>b.value.find(i=>parseInt(i.dataset.value,10)===a),t=a=>{const i=U(a);i&&i.focus()},e=a=>{g("update:activeMonth",a),g("update:selectorMode","day")},s=a=>{d.value=a,t(d.value)},o=a=>{a&&(d.value=a,t(a))},u=a=>{a&&(d.value=a,t(a))};return C(d,a=>{const i=Y(r,a),y=$(r,i,a);k.value=i,O.value=y},{immediate:!0}),(a,i)=>(M(),z(L(Q),{options:w},{default:H(()=>[q("div",ae,[q("table",ne,[q("tbody",null,[(M(!0),R(K,null,S(L(r),(y,A)=>(M(),R("tr",{key:`${A}-${y.map(({month:n})=>n).join("-")}`},[(M(!0),R(K,null,S(y,(n,F)=>(M(),R("td",{key:n.id},[q("button",{ref_for:!0,ref_key:"monthButtonRefs",ref:b,type:"button",disabled:n.disabled,tabindex:N(n.month,A,F),class:G(["usa-date-picker__calendar__month",{"usa-date-picker__calendar__month--selected":h.value===n.month,"usa-date-picker__calendar__month--focused":k.value===A&&O.value===F}]),"data-value":n.month,"data-label":n.label,"aria-selected":h.value===n.month,onClick:c=>e(n.month),onMouseover:c=>s(n.month),onKeydown:[p(v(c=>o(n.up),["prevent"]),["up"]),p(v(c=>u(n.down),["prevent"]),["down"]),p(v(c=>o(n.left),["prevent"]),["left"]),p(v(c=>u(n.right),["prevent"]),["right"]),p(v(c=>o(n.home),["prevent"]),["home"]),p(v(c=>u(n.end),["prevent"]),["end"]),p(v(c=>o(n.pageUp),["prevent"]),["page-up"]),p(v(c=>u(n.pageDown),["prevent"]),["page-down"])]},J(n.label),43,se)]))),128))]))),128))])])])]),_:1}))}};re.__docgenInfo={exportName:"default",displayName:"UsaDatePickerCalendarMonth",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"minDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"maxDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"monthLabels",global:!1,description:"",tags:[],required:!0,type:"unknown[]",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"activeDate",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"}],events:[],slots:[],exposed:[{name:"minDate",type:"string",description:"",declarations:[],schema:"string"},{name:"maxDate",type:"string",description:"",declarations:[],schema:"string"},{name:"monthLabels",type:"unknown[]",description:"",declarations:[],schema:{kind:"array",type:"unknown[]"}},{name:"activeDate",type:"string",description:"",declarations:[],schema:"string"}],sourceFiles:"/home/runner/work/vue-uswds/vue-uswds/src/components/UsaDatePickerCalendarMonth/UsaDatePickerCalendarMonth.vue"};export{re as _};
